 <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html>
	<head>
    	<meta charset="UTF-8">
	</head>
 	<body>
    	<h2 style="color:teal">Test Type</h2>
        <input type="radio" checked="checked" value="true" name="testType" id="practice" /> Practice 
        <input type="radio" name="testType" value="false" id="test" /> Final
        <div id="practiceDiv"  style="visibility:visible">
            <h3 style="color:teal">Practice Exam (Instructor Input)</h3>
            
            <p>low and high WPM must be concentric around the midrange WPM</p>
            <p>These are only for the illustration that happens below and are not important to the test itself</p>
            
            <input id="lowWPM" type="text" name="lowWPM" placeholder="low WPM..." 	/>
            <br>
            
            <input id="midWPM" type="text" name="midWPM" placeholder="midrange WPM..." 	/>
            <br>
            
            <input id="highWPM" type="text" readonly="readonly" name="highWPM" placeholder="high WPM..." 	/>
            <br>
            
            <input id="PracticeTitle" type="text" name="title" placeholder="Practice title..." 	/>
            <br>
            
            <p>Practice #</p>
            
            <select id="practiceNum" >
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            </select>
            <br/>
                
            <textarea id="PracticeTest" name="assesment" rows="8" cols="64" placeholder="the instructor will input the material for which the student will be assesed in this box"></textarea>
            <br/>
        	<br/>
            <input id="getJSONPractice" type="button" value="Finished" />
        </div>
        
        <div id="finalDiv" style="visibility:hidden">
        	<input id="timeLimit" type="text" name="timeLimit" placeholder="time limit..." 	/>
            <br>
			<textarea id="assesment" name="assessment" rows="8" cols="64" placeholder="input test here..."></textarea>
			<br> 
            <input id="input" type="submit" name="submit" value="Submit" />
        </div>
        <div id="result"></div>
    </body>
</html>

<script type="text/javascript">
	//radio button variables
	var testRadio = document.getElementById("test");
	var practiceRadio = document.getElementById("practice");
	
	var finalDiv = document.getElementById("finalDiv");
	var practiceDiv = document.getElementById("practiceDiv");
	
	eventRegistrar(testRadio, 'change', changeRadio);
	eventRegistrar(practiceRadio, 'change', changeRadio);
	
	function changeRadio(){
		alert("in");
		if(testRadio.checked){
			practiceDiv.setAttribute("style","visibility:hidden")
			finalDiv.setAttribute("style","visibility:visible");
		}else{
			finalDiv.setAttribute("style","visibility:hidden")
			practiceDiv.setAttribute("style","visibility:visible");
		}
		
		
	}
	
	alert(practiceRadio.checked + "    " + testRadio.checked);
	
	
	//practice variables
	var lowWPM       = document.getElementById("lowWPM");
	var midWPM       = document.getElementById("midWPM");
	var highWPM      = document.getElementById("highWPM");
	
	var title        = document.getElementById("PracticeTitle");
	var practiceNum  = document.getElementById("practiceNum");
	var test         = document.getElementById("PracticeTest");
	
	var submitPractice = document.getElementById("getJSONPractice");
	
	eventRegistrar(submitPractice, 'click', stringToJSON);
	
	//final variables
	
	function stringToJSON(theString){
		
		var error = false;
		var errorMessage = "These fields cannot be blank:\n";
		var JSONString = "";
			
		if(lowWPM.value == ""){
			errorMessage += "low WPM\n";
			error = true;	
		}
		if(midWPM.value == ""){
			errorMessage += "mid WPM\n";
			error = true;	
		}
		if(title.value == ""){
			errorMessage += "title\n";
			error = true;	
		}
		if(test.value == ""){
			errorMessage += "text\n";
			error = true;	
		}
		
		if(!error){
			JSONString = '{ "lowWPM":' + JSON.stringify(lowWPM.value) + ', "midWPM":' + JSON.stringify(midWPM.value) +', "highWPM":' + JSON.stringify(highWPM.value) + ', "title":' + JSON.stringify(title.value) + ', "practiceNum":' + JSON.stringify(practiceNum.value) + ', "test":' + JSON.stringify(test.value) + '}';
			
			alert(JSONString);
			alert(JSON.parse(JSONString).lowWPM);
			
		}else{
			alert(errorMessage);	
		}
		
	}
	
	/*universal event rigistration*/
	function eventRegistrar(element, eventType, handlerFunction) {
		if(element.addEventListener) {
			element.addEventListener(eventType,handlerFunction,false);
		} else {
			element.attachEvent('on'+eventType,handlerFunction);
		}
	}
</script>